import { Canvas, Meta, Source } from '@storybook/blocks'

import { ApiTable } from '@/components'

import * as UseUnmountStories from './useUnmount.stories.ts'
import { apiParamsMeta } from './apiMeta.ts'

<Meta of={UseUnmountStories} />

# useUnmount

在组件 unmount 之前执行回调

## 代码演示

### 基础用法

<Canvas of={UseUnmountStories.Default} />

```tsx
import { Box, Button } from '@mui/material'
import { FC } from 'react'

import { useBoolean, useUnmount } from 'plasticine-hooks'

const Foo: FC = () => {
  useUnmount(() => {
    window.alert('unmount')
  })

  return <Box>Foo</Box>
}

const Demo: FC = () => {
  const [mounted, { toggle }] = useBoolean(false)

  return (
    <Box>
      <Button variant="contained" onClick={toggle}>
        {mounted ? 'unmount' : 'mount'}
      </Button>

      {mounted && <Foo />}
    </Box>
  )
}

export default Demo
```

## API

### 类型定义

```ts
useUnmount(callback: () => void): void
```

### 参数

<ApiTable rows={apiParamsMeta} />
